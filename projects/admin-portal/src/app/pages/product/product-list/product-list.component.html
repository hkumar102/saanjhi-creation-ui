<!-- Header with Add Button -->
<div class="flex justify-content-between mb-4">
    <h2 class="text-xl font-bold">Product List</h2>
    <saanjhi-ui-button label="Add Product" icon="pi pi-plus" (click)="onAddProduct()" />
</div>

<form [formGroup]="form" (ngSubmit)="onFilterChange()" class="flex flex-wrap gap-2">
    <saanjhi-ui-form-field label="Search" for="search">
        <saanjhi-ui-input inputId="search" formControlName="search" />
    </saanjhi-ui-form-field>

    <saanjhi-ui-form-field label="Category" for="categoryId">
        <saanjhi-ui-multiselect valueKey="id" inputId="categoryId" formControlName="categoryId" [options]="categories"
            labelKey="name">
        </saanjhi-ui-multiselect>
    </saanjhi-ui-form-field>

    <!-- <saanjhi-ui-form-field label="Price Range">
        <div class="flex gap-2">
            <saanjhi-ui-input type="number" formControlName="minPrice" />
            <span>to</span>
            <saanjhi-ui-input type="number" formControlName="maxPrice" />
        </div>
    </saanjhi-ui-form-field> -->

    <saanjhi-ui-form-field label="Rentable" for="isRentable">
        <saanjhi-ui-dropdown inputId="isRentable" formControlName="isRentable" [options]="[
            { label: 'All', value: null },
            { label: 'Rentable', value: true },
            { label: 'Not Rentable', value: false }
        ]" placeholder="Select Rentable Status" optionValue="value"></saanjhi-ui-dropdown>
    </saanjhi-ui-form-field>

    <saanjhi-ui-form-field label="Availability" for="isActive">
        <saanjhi-ui-dropdown inputId="isActive" formControlName="isActive" [options]="[
      { label: 'All', value: null },
      { label: 'Active', value: true },
      { label: 'Inactive', value: false }
    ]" placeholder="Select Status" optionValue="value"></saanjhi-ui-dropdown>
    </saanjhi-ui-form-field>

    <div class="flex lg:flex-1 align-items-end gap-2 w-full md:w-auto justify-content-between md:justify-content-end">
        <saanjhi-ui-button type="button" label="Clear" icon="pi pi-times" severity="secondary"
            (click)="onClearFilters()" />

        <saanjhi-ui-button type="submit" label="Apply" icon="pi pi-save" />
    </div>
</form>

<hr class="my-4" />

<!-- Product Cards -->
<div class="flex flex-wrap justify-content-start gap-2">
    <saanjhi-product-card *ngFor="let product of products" [product]="product" (editClicked)="onEditClicked($event)"
        (previewClicked)="onPreviewProduct($event)"></saanjhi-product-card>

</div>
<!-- Load More Button -->
<div class="flex justify-content-center mt-4">
    <saanjhi-ui-button label="Load More" icon="pi pi-angle-down" (onClick)="onLoadMore()" />
</div>